# HR 管理系统 - 脚本使用说明

这个项目包含了一套便捷的脚本，可以让你轻松管理 HR 管理系统的启动、停止和监控。

## 📁 脚本文件

- `start.sh` - 启动脚本（同时启动后端和前端服务）
- `stop.sh` - 停止脚本（停止所有运行的服务）
- `status.sh` - 状态检查脚本（检查服务运行状态）
- `logs.sh` - 日志查看脚本（查看服务日志）

## 🚀 快速开始

### 1. 启动所有服务

```bash
./start.sh
```

这个命令会：
- 检查项目结构是否正确
- 检查 Node.js 和 npm 是否安装
- 自动安装缺失的依赖包
- 同时启动后端服务（端口 3000）和前端服务（端口 5173）
- 显示服务状态和访问地址
- 将日志保存到 `logs/` 目录

### 2. 停止所有服务

```bash
./stop.sh
```

或者直接按 `Ctrl+C` 停止所有服务。

### 3. 检查服务状态

```bash
./status.sh
```

查看后端和前端服务的运行状态、端口占用情况等。

### 4. 查看服务日志

```bash
./logs.sh
```

查看最近的服务日志。

## 📊 服务地址

启动成功后，你可以访问：

- **前端应用**: http://localhost:5173
- **后端 API**: http://localhost:3000

## 📝 日志文件

所有服务的日志都会保存在 `logs/` 目录下：

- `logs/backend.log` - 后端服务日志
- `logs/frontend.log` - 前端服务日志
- `logs/backend.pid` - 后端进程 ID
- `logs/frontend.pid` - 前端进程 ID

## 🔧 高级用法

### 实时查看日志

```bash
# 实时查看后端日志
tail -f logs/backend.log

# 实时查看前端日志
tail -f logs/frontend.log
```

### 查看完整日志

```bash
# 查看完整后端日志
cat logs/backend.log

# 查看完整前端日志
cat logs/frontend.log
```

### 手动启动单个服务

如果你需要单独启动某个服务：

```bash
# 启动后端服务
cd backend && npm run start

# 启动前端服务
cd frontend && npm run dev
```

## ⚠️ 注意事项

1. **确保在项目根目录运行脚本**：脚本需要在包含 `backend/` 和 `frontend/` 文件夹的目录下运行
2. **端口冲突**：如果端口 3000 或 5173 被占用，服务可能无法启动
3. **依赖安装**：首次运行时会自动安装依赖，可能需要一些时间
4. **权限问题**：如果遇到权限问题，请确保脚本有执行权限：`chmod +x *.sh`

## 🐛 故障排除

### 服务无法启动

1. 检查 Node.js 和 npm 是否正确安装
2. 检查端口是否被占用：`lsof -i :3000` 或 `lsof -i :5173`
3. 查看日志文件了解错误信息
4. 尝试手动启动单个服务进行调试

### 端口被占用

```bash
# 查看端口占用情况
lsof -i :3000
lsof -i :5173

# 杀死占用端口的进程
kill -9 <PID>
```

### 权限问题

```bash
# 给脚本添加执行权限
chmod +x *.sh
```

## 📞 支持

如果遇到问题，请：

1. 查看日志文件了解错误信息
2. 运行 `./status.sh` 检查服务状态
3. 尝试手动启动单个服务进行调试
4. 检查项目文档或提交 Issue 